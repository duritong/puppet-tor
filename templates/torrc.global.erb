# runtime
RunAsDaemon 1
<%- if scope.lookupvar('tor::daemon::data_dir') != '/var/lib/tor' then -%>
DataDirectory <%= scope.lookupvar('tor::daemon::data_dir') %>
<%- end -%>

# log
<%- if scope.lookupvar('tor::daemon::log_rules') != [] then -%>
<%-   for log_rule in scope.lookupvar('tor::daemon::log_rules') -%>
Log <%= log_rule %>
<%-   end -%>
<%- else -%>
Log notice syslog
<%- end -%>
<%- if safe_logging != 1 then -%>
SafeLogging <%= safe_logging %>
<%-   end -%>

<%- if scope.lookupvar('tor::daemon::automap_hosts_on_resolve') != '0' then -%>
AutomapHostsOnResolve <%= scope.lookupvar('tor::daemon::automap_hosts_on_resolve') %>
<%- end -%>
<%- if scope.lookupvar('tor::daemon::use_bridges') != '0' then -%>
UseBridges <%= scope.lookupvar('tor::daemon::use_bridges') %>
<%- end -%>
